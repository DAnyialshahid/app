function loadImagePreview(e,t){if(e.files&&e.files[0]){var a=new FileReader;a.onload=function(e){t.attr("src",e.target.result)},a.readAsDataURL(e.files[0])}}!function(e,t){e.extend({stickysidebarscroll:function(t,a){a&&a.offset?(a.offset.bottom=parseInt(a.offset.bottom,10),a.offset.top=parseInt(a.offset.top,10)):a.offset={bottom:100,top:0};var t=e(t);if(t&&t.offset()){var n=t.offset().top,o=t.offset().left,i=(t.outerHeight(!0),t.outerWidth()),r=t.css("position"),s=t.css("top"),l=parseInt(t.css("marginTop"),10),c=e(document).height(),d=e(document).height()-a.offset.bottom,u=0,f=!1,h=!1;(a.forcemargin===!0||navigator.userAgent.match(/\bMSIE (4|5|6)\./)||navigator.userAgent.match(/\bOS (3|4|5|6)_/)||navigator.userAgent.match(/\bAndroid (1|2|3|4)\./i))&&(h=!0),e(window).bind("scroll resize orientationchange load",t,function(p){c!==e(document).height()&&(d=e(document).height()-a.offset.bottom,c=e(document).height()),0==f&&(n=t.offset().top);var g=t.outerHeight(),v=e(window).scrollTop();h&&document.activeElement&&"INPUT"===document.activeElement.nodeName||(f=!0,v>=n-(l?l:0)-a.offset.top?(u=d<v+g+l+a.offset.top?v+g+l+a.offset.top-d:0,h?t.css({marginTop:parseInt((l?l:0)+(v-n-u)+2*a.offset.top,10)+"px"}):t.css({position:"fixed",top:a.offset.top-u+"px",width:i+"px"})):(f=!1,o=t.offset().left,t.css({position:r,top:s,left:o,width:i+"px",marginTop:(l?l:0)+"px"})))})}}})}(jQuery);var isMobile={android:function(){return/Android/i.test(navigator.userAgent)},blackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},whatsAppEnabled:function(){return isMobile.android()||isMobile.iOS()}};$(document).ready(function(){$.stickysidebarscroll("#stick-me",{offset:{top:10,bottom:500}}),$("#owl-home").owlCarousel({navigation:!0,slideSpeed:500,paginationSpeed:7e3,singleItem:!0,autoPlay:1e4,autoplayHoverPause:!0}),$("#owl-cat").owlCarousel({pagination:!1,items:6,itemsDesktop:[1e3,6],itemsDesktopSmall:[900,5],itemsTablet:[600,3],itemsMobile:[420,2]}),$(".next").click(function(){$("#owl-cat").trigger("owl.next")}),$(".prev").click(function(){$("#owl-cat").trigger("owl.prev")}),$(".owl-carousel.owl-sidebar").owlCarousel({loop:!0,items:1,autoHeight:!0,autoPlay:5e3,slideSpeed:1e3,paginationSpeed:1e3,autoplayHoverPause:!0,itemsDesktop:[1199,1],itemsDesktopSmall:[971,1],itemsTablet:[970,2],itemsTabletSmall:!1,itemsMobile:[479,1]}),$(".owl-carousel.owl-product").owlCarousel({loop:!0,items:3,autoHeight:!0,autoPlay:5e3,slideSpeed:1e3,paginationSpeed:1e3,autoplayHoverPause:!0,itemsDesktop:[1199,3],itemsDesktopSmall:[971,3],itemsTablet:[970,3],itemsTabletSmall:!1,itemsMobile:[479,1]}),$("select").material_select(),$("#message").trigger("autoresize"),$(".modal-trigger").leanModal(),$(".button-collapse").sideNav({edge:"right",draggable:!1}),$(".filter-on-mob").is(":visible")&&($("#filter-slide").addClass("side-nav"),$(".filter-mob").sideNav({edge:"right",draggable:!1}));var e=$(".button-collapse-nav");e.click(function(){$(".filter-mob").sideNav("hide")}),$(".filter-on-mob, .filter-on-mob i, .login-mob-nav").click(function(){e.sideNav("hide")}),e.sideNav({edge:"left",draggable:!0}),$(".top-stores").hover(function(){$(".top-stores-mega").toggleClass("hide")}),$(".top-stores-mega").hover(function(){$(this).toggleClass("hide"),$(".top-stores a").toggleClass("nav-hover")}),$(".top-category").hover(function(){$(".top-category-mega").toggleClass("hide")}),$(".top-category-mega").hover(function(){$(this).toggleClass("hide"),$(".top-category a").toggleClass("nav-hover")}),$(".collapsible").collapsible({accordion:!1}),$(".top-desc").click(function(){$(this).toggleClass("expand")}),$(".coupon-desc").click(function(){$(this).toggleClass("expand")});var t=$(".scroll-top"),a=!1;$(document).scroll(function(){var e=$(this).scrollTop();e>1200&&!a?(a=!a,t.fadeIn()):e<=1200&&a&&(a=!a,t.fadeOut())}),t.click(function(){return $("html, body").animate({scrollTop:0},"slow"),!1}),$("input[type=file].image-input").change(function(){$imgPreview=$(this).closest("div").find("img.preview"),$imgPreview&&loadImagePreview(this,$imgPreview)}),$(document).on("click","#toast-container .toast",function(){$(this).fadeOut(function(){$(this).remove()})}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}})}),function(e){var t="c",a=!1,n=function(e,t){var a=[],n=[];window.location.search.substr(1).length>1&&(n=window.location.search.substr(1).split("&"));var o,i,r=n.length;for(i=0;i<r&&""!=n;i++)o=n[i].split("="),e==o[0]&&e==encodeURI(o[0])||(a[a.length]=n[i]);n=a;var s=e+"="+t,l="",c="";return n.length>0?(c=n.join("&"),s.length>0&&(c+="&"+s)):s.length>0&&(c=s),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),l=c.length>0?window.location.origin+window.location.pathname+"?"+c+window.location.hash:window.location.origin+window.location.pathname+window.location.hash},o=function(){if(window.location.search.substr(1).length>1){var a,n,o=window.location.search.substr(1).split("&"),r=o.length;for(n=0;n<r&&""!=o[n];n++)if(a=o[n].split("="),t==a[0]||t==encodeURI(a[0])){var s=a[1],l=e("#c-"+s),c=l.find("a.btn.go-cpn").first();c.length>0&&i(c),e("html, body").animate({scrollTop:l.offset().top-90},"slow")}}},i=function(t){var n=t.closest("div.coupon").first(),o=n.data("type"),i=n.data("logo"),r=n.data("go"),s=n.data("store-name")||"Store",l=e("#coupon-modal");if("coupon-code"==o){l.find("div.mmsg").html("Apply this Coupon Code At Checkout");var c=n.data("code");if(!a){a=!0;var d=e("a.btn-coupon");d.hide(),d.prev("div").css("text-align","center"),d.closest("div").addClass("code-margin")}var u=l.find("div.mcopy"),f=u.data("tooltip-id"),h=e("#"+f+" span");h.text(" copy "),u.show(),u.attr("data-clipboard-text",c);var p=p||new Clipboard("div.mcopy").on("success",function(e){h.text(" copied! "),setTimeout(function(){h.text(" copy ")},3e3),e.clearSelection()}).on("error",function(e){});l.find("div.mcoupon").html(c)}else l.find("div.mmsg").html("No Coupon Code is required at Checkout"),l.find("div.mcoupon").html("OFFER ACTIVATED"),l.find("div.mcopy").hide();l.find("div.mstore-go").html('<a target="blank" rel="nofollow" href="'+r+'">Go To '+s+'<i class="fa fa-long-arrow-right bounce"></i></a>'),l.find("div.mimg-cont img").attr("src",i);var g=n.find(".title");g.length<1&&(g=n.find("p.cboxsq-title"));var v=g.text()||"";l.find("h3.mtitle").html(v),l.openModal()};e(document).ready(function(){var a=e("body");o(),a.on("click","div.code-container",function(t){t.preventDefault();var a=e(this),n=a.closest("div.coupon").first(),o=n.data("go");i(a),window.open(o)}),a.on("click","a.btn.go-cpn",function(a){a.preventDefault();var o=e(this),i=o.closest("div.coupon").first(),r=i.data("cid"),s=n(t,r),l=i.data("go"),c=i.data("type");"coupon-code"===c?(window.open(s),window.location=l):(window.open(l),window.location=s)})})}(jQuery),function(e){var t=function(t,a,n){var o=[],i=[],r=e(".filter-form").serialize(),s=/[filter\-categories|filter\-stores]%5B.*%5D|filter\-type/i;window.location.search.substr(1).length>1&&(i=window.location.search.substr(1).split("&"));var l,c,d=i.length;for(c=0;c<d;c++)l=i[c].split("="),s.test(l[0])||s.test(encodeURI(l[0]))||(o[o.length]=i[c]);i=o;var u="",f="";return i.length>0?(f=i.join("&"),r.length>0&&(f+="&"+r)):r.length>0&&(f=r),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),u=f.length>0?window.location.origin+window.location.pathname+"?"+f+window.location.hash:window.location.origin+window.location.pathname+window.location.hash,u.indexOf("undefined")>=0||u.indexOf("null")>=0,u},a=function(a){"undefined"!=typeof NProgress&&NProgress.start();var n=[],o=e("#filter-categories");o.find("input[type=checkbox]:checked").each(function(){n.push(e(this).val())}),n.length?o.closest(".filter-content").first().find(".filter-clear").show():o.closest(".filter-content").first().find(".filter-clear").hide();var i=[],r=e("#filter-stores");r.find("input[type=checkbox]:checked").each(function(){i.push(e(this).val())}),i.length?r.closest(".filter-content").first().find(".filter-clear").show():r.closest(".filter-content").first().find(".filter-clear").hide();var s=e("#filter-type input[type=radio]:checked").val();i.length||n.length||"all"!==s?e("#clear-all-filter").show():e("#clear-all-filter").hide();var l=[],c=[],d=e("div.coupon");if(e.each(d,function(){var t=!0,a=-1,o=0,r=e(this);if(s.length>1&&("promotion"!=s||r.hasClass("promotion")?"coupon-code"!=s||r.hasClass("coupon-code")||(t=!1):t=!1),t===!0){if(n.length>0){var d=r.attr("data-categories").split(",");if(void 0!=d&&d.length>0){for(a=-1,o=0;o<n.length;o++)if(a=d.indexOf(n[o]),a>=0){a=o;break}a==-1&&(t=!1)}}if(t===!0&&i.length>0){var u=e(this).attr("data-stores").split(",");if(void 0!=u&&u.length>0){for(a=-1,o=0;o<i.length;o++)if(a=u.indexOf(i[o]),a>=0){a=o;break}a==-1&&(t=!1)}}}t?l.push(this):c.push(this)}),a){var u=t(s,n,i);window.history.pushState("","",u)}if(e(l).show(),e(c).hide(),c.length>0?e(".hide-on-filter").hide():e(".hide-on-filter").show(),l.length<=0){var f='<p id="filter-no-coupon-msg" style="text-align: center;"><b>Oops!</b><br/>';e('a[rel="next"]').length?f+='We could not find any offer matching your criteria on this page. Please check on the next page by clicking on <i class="fa fa-angle-right"></i> icon below.':(f+='<img width="128" alt="Sorry" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Sad_panda.svg/256px-Sad_panda.svg.png"/><br/>We could not find any offer matching your criteria right now. Please try a different filter.',e("#mc_embed_signup").length>0&&(f+="<br/><br/><b>TIP: </b>Please visit the page later or subscribe to get alerted via e-mail whenever there is a new offer.")),f+="</p>",e("#filter-no-coupon-msg").remove(),e(f).insertBefore(d.first())}else e("#filter-no-coupon-msg").remove();"undefined"!=typeof NProgress&&NProgress.done()},n=function(e,t,n){e.find("input[type=checkbox]").prop("checked",!1),t&&a(n)},o=function(t,n){e('.filter-form input[type=radio][value="all"]').prop("checked",!0),e(".filter-form input[type=checkbox]").prop("checked",!1),t&&a(n)},i=function(){a(!0)},r=function(){var t=e(".filter-form input[type=checkbox]");t.unbind("change",i),t.prop("checked",!1);var n=/filter-categories%5B.*%5D/i,o=/filter-stores%5B.*%5D/i,r=/filter-type/i,s=[];window.location.search.substr(1).length>1&&(s=window.location.search.substr(1).split("&"));for(var l,c=s.length,d=0;d<c;d++)l=s[d].split("="),void 0!=l[0]&&void 0!=l[1]&&(r.test(l[0])||r.test(encodeURI(l[0]))?e("#type-"+l[1]).prop("checked",!0):n.test(l[0])||n.test(encodeURI(l[0]))?e("#cat-"+l[1]).prop("checked",!0):(o.test(l[0])||o.test(encodeURI(l[0])))&&e("#sotre-"+l[1]).prop("checked",!0));a(!1),t.bind("change",i)},s=function(){var t=e(this),a=t.attr("data-target"),n=t.val().toLowerCase();if(n.length){var o,i;e(a).find("label").each(function(){o=e(this),i=o.text().toLowerCase(),i.indexOf(n)>-1?o.closest("li").show():o.closest("li").hide()})}else e(a).find("li").show()},l=function(){e("body").on("input keyup propertychange paste",".filter-search",s),/[filter\-categories|filter\-stores]%5B.*%5D|filter\-type/i.test(window.location.search.substr(1))&&r(),e(".filter-form input[type=checkbox]").unbind("change",i).bind("change",i),e(".filter-form input[type=radio]").unbind("change",i).bind("change",i),window.onpopstate=function(e){e&&/[filter\-categories|filter\-stores]%5B.*%5D|filter\-type/i.test(window.location.search.substr(1))&&r()},e(".filter-head").on("click",function(){var t=e(this),a=t.find("i");a.hasClass("fa-angle-up")?(a.removeClass("fa-angle-up").addClass("fa-angle-down"),t.next(".filter-content").slideUp()):(a.removeClass("fa-angle-down").addClass("fa-angle-up"),t.next(".filter-content").slideDown())}),e(".filter-clear").bind("click",function(){var t=e(e(this).hide().attr("data-target"));n(t,!0,!0)}),e("#clear-all-filter").bind("click",function(){o(!0,!0),e(this).hide()})};e(document).ready(function(){l()})}(jQuery),function(e){var t,a,n,o,i=!1,r=3,s=5,l="",c=[],d=null,u=function(e,t,a){if("undefined"!=typeof Storage){a=void 0==a||"null"==a?86400:Math.abs(a);var n=Math.floor((new Date).getTime()/1e3),o=n+a;try{localStorage.setItem(e,t),localStorage.setItem("_t"+e,o)}catch(i){return!1}return!0}return!1},f=function(e){if("undefined"!=typeof Storage){var t=Math.floor((new Date).getTime()/1e3),a=localStorage.getItem("_t"+e);return void 0===a||null===a?null:a<t}return null},h=function(e){if("undefined"!=typeof Storage)try{return localStorage.getItem(e)}catch(t){return null}return null},p=function(){try{var e=h("_ssh");return void 0===e||null===e?[]:JSON.parse(e)}catch(t){return[]}},g=function(e){try{var t=5,a=e;a.entityType="history";var n=h("_ssh");if(void 0===n||null===n){var o=[];return o.push(a),u("_ssh",JSON.stringify(o),43200)}n=JSON.parse(n);for(var i=-1,r=0;r<n.length;r++)if(n[r].name==a.name){i=r;break}return i==-1?(n.length>=t&&n.pop(),n.unshift(a)):(n.splice(i,1),n.unshift(a)),u("_ssh",JSON.stringify(n),43200)}catch(s){return!1}},v=function(n){return("focus"!==n.type.toLowerCase()||!i)&&(i?(a.val(""),o.html("").hide(),t.removeClass("open"),setTimeout(function(){t.addClass("hideInput"),setTimeout(function(){t.removeClass("hideInput")},100)},300),a.blur()):(e(".button-collapse-nav").sideNav("hide"),t.addClass("open"),m()),void(i=!i))},w=function(t){o.html("").show();e.each(t,function(t,a){var n;switch(a.type.toLowerCase()){case"store":case"category":n=e('<div class="row valign-wrapper autocomp-suggestion" data-id="'+a.id+'" data-type="'+a.type+'" data-name="'+a.name+'" data-count="'+a.couponCount+'" data-url="'+a.url+'"></div>'),"history"===a.entityType?n.append('<div class="col s8 valign"><i class="fa fa-history"></i>'+a.name+"</div>"):n.append('<div class="col s8 valign">'+a.name+'<span class="grey-text"> ('+a.couponCount+" Coupons)</span></div>"),n.append('<div class="col s3 right-align valign">'+a.type+"</div>"),n.append('<div class="col s1 center valign"><i class="fa fa-angle-right right"></i></div>'),o.append(n);break;default:return!0}})},m=function(){var e=p();w(e)},b=function(){if("undefined"!==d&&null!=d){var e={};e.id=d.data("id"),e.name=d.data("name"),e.type=d.data("type"),e.couponCount=d.data("count"),e.url=d.data("url"),g(e),window.location=d.data("url")}},y=function(e){var t=C(e);"undefined"!==t&&null!==t&&t.length>0?w(t):o.html("").hide();var a=o.children("div.autocomp-suggestion");d=a.length?a.first().addClass("active"):null},C=function(t){if("undefined"==typeof c||null===c||c.length<1)return[];t=t.trim().toLowerCase();var a=t.length,n=[],o=[],i=[],r=new RegExp(t);return e.each(c,function(e,i){switch(i.type.toLowerCase()){case"store":case"category":i.name.substring(0,a).toLowerCase()==t?n.push(i):r.test(i.name.toLowerCase())&&o.push(i);break;default:return!0}}),e.each(n,function(e,t){i.push(t)}),e.each(o,function(e,t){return i.length<s&&void i.push(t)}),i},k=function(t){var n=a.val().trim().toLowerCase(),i=t.keyCode||t.which,s=o.children("div.autocomp-suggestion");switch(i){case 38:s.length>0&&(s.removeClass("active"),d="undefined"===d||null===d?s.last().addClass("active"):0===d.prev().length?s.last().addClass("active"):d.prev().addClass("active"),a.val(d.find("div.col").first().clone().children().remove().end().text()));break;case 40:s.length>0&&(s.removeClass("active"),d="undefined"===d||null===d?s.first().addClass("active"):0===d.next().length?s.first().addClass("active"):d.next().addClass("active"),a.val(d.find("div.col").first().clone().children().remove().end().text()));break;case 13:"undefined"!==d&&null!==d?b():n.length>0&&(window.location=window.location.origin+"/search/?q="+n);break;default:if(l.substring(0,r)!=n.substring(0,r)&&n.length>=r&&!/[^a-zA-Z0-9]/.test(n.substring(0,r))){var p=h(n.substring(0,r));if(void 0!=p&&null!=p)try{c=JSON.parse(p),y(n)}catch(t){}var g=f(n.substring(0,r));void 0!==p&&null!==p&&g!==!0&&null!==g||e.ajax({method:"GET",dataType:"json",url:window.location.origin+"/search/autosuggest/?q="+n.substring(0,r),error:function(e,t,a){},success:function(e){void 0===e&&null===e&&e.hasOwnProperty("error")&&e.length<1||(setTimeout(function(){var t=86400;0===e.length&&(t=3600),u(n.substring(0,r),JSON.stringify(e),t)},100),c=e,y(n))}})}else 0==n.length?m():y(n);l=n}},S=function(e){e.preventDefault();var t=a.val().trim();t&&t.length>3&&(window.location=window.location.origin+"/search/?q="+t)},x=function(){t=e("#ccsearch").first(),a=t.find("input.ccsearch-input").first(),n=t.find("span.ccsearch-close").first(),o=t.find("div.autosuggest-result").first(),a.focus(v),n.click(v),e(document).keydown(function(e){var t=e.keyCode||e.which;27===t&&i&&v(e)}),t.find('button[type="submit"]').click(S),a.keyup(k),o.on("click","div.autocomp-suggestion",function(t){o.children("div.autocomp-suggestion").removeClass("active"),d=e(this),d.addClass("active"),b()})};e(document).ready(function(){x()})}(jQuery),function(e){"use strict";var t={activeClass:"active",ratingIconSelector:"i.rating",ratingWidgetSelector:".star-rating",ratingCountSelector:"span.rating-count",ratingValueSelector:"span.rating-value"},a=function(a){var n=a.data("value");a.data("count");a.find(t.ratingIconSelector).each(function(){var a=e(this),o=a.data("value");o<=Math.round(n)?a.addClass(t.activeClass):a.removeClass(t.activeClass)})},n=function(a,n,o){var i=Math.round(n);a.find(t.ratingIconSelector).each(function(){var a=e(this),n=a.data("value");n<=i?a.addClass(t.activeClass):a.removeClass(t.activeClass)}),a.attr("data-value",n),a.attr("data-count",o),a.find(t.ratingValueSelector).first().text(n),a.find(t.ratingCountSelector).first().text(o)},o=function(a){var o=e(this),i=o.closest(t.ratingWidgetSelector),r=o.data("value"),s=e("body"),l=i.data("id")||s.data("id"),c=i.data("type")||s.data("type"),d={action:"updateRating",pageId:l,rating:r,pageType:c},u=window.location.origin+"/stores/"+l+"/";return 5===c&&(u=window.location.origin+"/posts/"+l+"/"),e.ajax({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},method:"PUT",contentType:"Application/json",data:JSON.stringify(d),dataType:"json",url:u,error:function(e,t,a){},success:function(e,t,a){try{e.error?Materialize.toast("Error: "+e.error.message,3e3,"danger"):(i.attr("data-user-rating",r),i.attr("data-disabled")?Materialize.toast("Thanks, Rating updated!",2e3,"success"):(Materialize.toast("Thank You for voting!",2e3,"success"),i.attr("data-disabled",1)),n(i,e.value,e.count))}catch(o){Materialize.toast("Opps! something went wrong! Try again.",3e3,"danger")}}}),!1},i=function(n){e.extend(t,n),e(t.ratingWidgetSelector).each(function(){var n=e(this);a(n),e(t.ratingIconSelector,n).bind({click:o})})};e(document).ready(function(){i({activeClass:"active",ratingIconSelector:"i.rating",ratingWidgetSelector:".star-rating"})})}(jQuery),function(e){var t=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},a=function(a){var n=a.serialize(),o=e("#email",a),i=e("#name",a),r=e("#password",a),s=e("#password-confirmation",a),l=i.val(),c=o.val(),d=r.val(),u=s.val();return"undefined"==l||l.length<1?(i.addClass("invalid"),i.siblings("label").attr("data-error","Please enter name."),!1):t(c)?"undefined"==d||d.length<1?(r.addClass("invalid"),r.siblings("label").attr("data-error","Enter a valid password."),!1):d!=u?(s.addClass("invalid"),s.siblings("label").attr("data-error","Password confirmation doesn't match."),!1):void e.ajax({method:"POST",data:n,dataType:"json",url:window.location.origin+"/register/",beforeSend:function(){"undefined"!=NProgress&&NProgress.start()},error:function(e,t,a){try{var n=e.responseJSON;n.hasOwnProperty("email")&&n.email.length>0?(o.addClass("invalid"),o.siblings("label").attr("data-error",n.email.toString())):n.hasOwnProperty("password")&&n.password.length>0?(r.addClass("invalid"),r.siblings("label").attr("data-error",n.password.toString())):n.hasOwnProperty("password_confirmation")&&n.password_confirmation.length>0?(r.addClass("invalid"),r.siblings("label").attr("data-error",n.password_confirmation.toString())):(o.addClass("invalid"),o.siblings("label").attr("data-error","Something went wrong! Try again."))}catch(i){o.addClass("invalid"),o.siblings("label").attr("data-error","Something went wrong! Try again..")}},success:function(e){try{e.hasOwnProperty("status")&&e.status===!0?Materialize.toast(e.message,1e4,"success"):(o.addClass("invalid"),o.siblings("label").attr("data-error",e.message))}catch(t){o.addClass("invalid"),o.siblings("label").attr("data-error","Something went wrong! Try again..")}},complete:function(){"undefined"!=NProgress&&NProgress.done()}}):(o.addClass("invalid"),o.siblings("label").attr("data-error","Enter a valid email."),!1)},n=function(a){var n=e("#email",a),o=e("#password",a),i=n.val(),r=o.val();if(!t(i))return n.addClass("invalid"),n.siblings("label").attr("data-error","Enter a valid email."),!1;if("undefined"==r||r.length<1)return o.addClass("invalid"),o.siblings("label").attr("data-error","Enter a valid Password."),!1;var s=e("#remember",a).val(),l=e('input[name="_token"]',a).val(),c={email:i,password:r,remember:s,_token:l};e.ajax({method:"POST",contentType:"Application/json",data:JSON.stringify(c),dataType:"json",url:window.location.origin+"/login/",beforeSend:function(){"undefined"!=NProgress&&NProgress.start()},error:function(e){try{var t=e.responseJSON;t.hasOwnProperty("email")&&t.email.length>0?(n.addClass("invalid"),n.siblings("label").attr("data-error",t.email.toString())):t.hasOwnProperty("password")&&t.password.length>0?(o.addClass("invalid"),o.siblings("label").attr("data-error",t.password.toString())):(n.addClass("invalid"),n.siblings("label").attr("data-error","Something went wrong! Try again."))}catch(a){n.addClass("invalid"),n.siblings("label").attr("data-error","Something went wrong! Try again.")}},success:function(e){try{e.hasOwnProperty("isLoggedIn")&&e.isLoggedIn===!0?window.location.href=window.location.href:(n.addClass("invalid"),n.siblings("label").attr("data-error","Invalid credentials."))}catch(t){n.addClass("invalid"),n.siblings("label").attr("data-error","Something went wrong! Try again..")}},complete:function(){"undefined"!=NProgress&&NProgress.done()}})},o=function(){var t=e("#login-form");t.keypress(function(t){13==t.keyCode&&(t.preventDefault(),n(e(this)))}),t.find("button[type=submit]").click(function(e){e.preventDefault(),n(t)});var o=e("#register-form");o.keypress(function(e){13==e.keyCode&&(e.preventDefault(),a(o))}),o.find("button[type=submit]").click(function(t){t.preventDefault(),a(e("#register-form"))})};e(document).ready(function(){o()})}(jQuery),$(document).ready(function(){$("a.ext-chrome, a.ext-footer").bind("click",function(e){e.preventDefault();var t=$('link[rel="chrome-webstore-item"]').attr("href")||"https://chrome.google.com/webstore/detail/couponchaska-browser-exte/glechkkodffbiiompanogeklijpfnkci";t&&"undefined"!=typeof chrome&&"undefined"!=typeof chrome.webstore&&"function"==typeof chrome.webstore.install?chrome.webstore.install(t,function(){$("#browser-ext-dnld").hide()},function(e){window.open(t)}):window.open(t)})}),function(e){var t="pcl",a=function(e){if("undefined"!=typeof Storage)try{localStorage.setItem(t,e+"*"+(new Date).getTime())}catch(a){}},n=function(){if("undefined"!=typeof Storage)try{var e=localStorage.getItem(t).split("*");if(e&&e[1]&&e[1]+3600>(new Date).getTime())return e[0]}catch(a){}return""};e(document).ready(function(){var o=n(t),i=e(".popup-offer"),r=i.find("a").first().attr("href");o&&o==r||(i.delay(5e3).fadeIn(1e3),e(".close-popup").click(function(){a(r),i.fadeOut()}),i.find("a").click(function(){a(r)}))})}(jQuery),function(e){var t,a="div.social-share-panel",n=function(e,t,a,n){var o=e;"undefined"!=a&&a.length>0&&(o=o+" Use Code: "+a),o=o+" "+n+"  via CouponChaska.com",window.location.href="whatsapp://send?text="+encodeURIComponent(o)},o=function(e,t,a,n){var o=screen.height/2-300,i=screen.width/2-300;"undefined"!=a&&a.length>0&&(t=t+" Use Code: "+a);var r="via Couponchaska.com",s="https://www.facebook.com/dialog/feed?app_id=839318556080693&display=popup&name="+encodeURIComponent(e)+"&caption="+encodeURIComponent(r)+"&description="+encodeURIComponent(t)+"&link="+encodeURI(n)+"&redirect_uri=https://www.couponchaska.com/";window.open(s,"sharer","top="+o+",left="+i+",toolbar=0,status=0,menubar=no,resizable=yes,scrollbars=yes,width=600,height=600")},i=function(e,t,a,n){var o=screen.height/2-300,i=screen.width/2-300;"undefined"!=a&&a.length>0&&(e=e+" Use Code: "+a);var r="https://twitter.com/intent/tweet?text="+encodeURIComponent(e)+"&url="+encodeURIComponent(n)+"&hashtags=couponchaska&vai=couponchaska";window.open(r,"sharer","top="+o+",left="+i+",toolbar=0,status=0,menubar=no,resizable=yes,scrollbars=yes,width=600,height=600")},r=function(e,t,a,n){var o=screen.height/2-300,i=screen.width/2-300,r="https://plus.google.com/share?url="+encodeURIComponent(n);window.open(r,"sharer","top="+o+",left="+i+",toolbar=0,status=0,menubar=no,resizable=yes,scrollbars=yes,width=600,height=600")},s=function(e,t,a,n){var o=screen.height/2-300,i=screen.width/2-300,r=t;"undefined"!=a&&a.length>0&&(r=r+" Use Code: "+a),r=r+" Offer Url: "+n,r+=" Via CouponChaska.com";var s="mailto:?subject="+encodeURIComponent(e)+"&body="+encodeURIComponent(r);window.open(s,"sharer","top="+o+",left="+i+",toolbar=0,status=0,menubar=no,resizable=yes,scrollbars=yes,width=600,height=400")},l=function(n){var o=e(this),i=o.closest("div.coupon").first();i.find(a).length<1?(i.append(t),t.addClass("active").focus()):t.toggleClass("active").focus()},c=function(t){var a=e(this),l=a.data("channel"),c=a.closest("div.coupon").first(),d=c.find("h3.title");d.length<1&&(d=c.find("p.cboxsq-title"));var u=c.find("div.coupon-desc"),f=d.text()||"",h=u.text()||"",p=c.data("code"),g=c.data("cid"),v=window.location.href;"google"==l&&(v="https://www.couponchaska.com/coupons/"+g+"/"),e.ajax({method:"POST",url:"https://www.googleapis.com/urlshortener/v1/url/?key=AIzaSyDaIMzdISyOqwmFy7o5kXfTArO-khIXFNk",data:'{ "longUrl": "'+v+'"}',dataType:"json",contentType:"application/json",timeout:2e3,error:function(e,t,a){},success:function(e,t,a){e.id&&(v=e.id)},complete:function(e,t){switch(l){case"whatsapp":n(f,h,p,v);break;case"facebook":o(f,h,p,v);break;case"twitter":i(f,h,p,v);break;case"google":r(f,h,p,v);break;case"email":s(f,h,p,v);break;default:Materialize.toast("Sorry! sharing failed. Please use other method.",3e3,"red")}}})},d=function(){if(t=e(a),"undefined"==t||t.length<1){t=e('<div class="social-share-panel"></div>');var n=e("<ul></ul>");"undefined"!=typeof isMobile&&isMobile.any()&&n.append('<li class="center"><i class="fa fa-whatsapp channel hoverable circle green waves-effect" aria-hidden="true" data-channel="whatsapp"></i></li>'),n.append('<li class="center"><i class="fa fa-facebook channel hoverable circle blue darken-3 waves-effect" aria-hidden="true" data-channel="facebook"></i></li>'),n.append('<li class="center"><i class="fa fa-google-plus channel hoverable circle red waves-effect lighten-1" aria-hidden="true" data-channel="google"></i></li>'),n.append('<li class="center"><i class="fa fa-twitter channel hoverable circle blue waves-effect" aria-hidden="true" data-channel="twitter"></i></li>'),n.append('<li class="center"><i class="fa fa-envelope channel hoverable circle red waves-effect" aria-hidden="true" data-channel="email"></i></li>'),t.append(n)}var o=e("body");o.on("click",".social-share",l),o.on("click",".social-share-panel .channel",c)};e(document).ready(function(){d()})}(jQuery),function(e){"use strict";var t=".countdown-timer",a=function(){e(t).each(function(){var t,a=e(this),n=new Date,o=a.data("repeat")||0,i=a.data("end");if(void 0===i)n.setHours(24,0,0,0),t=Math.floor(n/1e3);else if(o){var r=parseInt(i),s=n.getHours();r>s?(n.setHours(r,0,0,0),t=Math.floor(n/1e3)):(n.setDate(n.getDate()+1),n.setHours(r,0,0,0),t=Math.floor(n/1e3))}else t=Math.floor(new Date(i)/1e3);var l=0,c=0,d=0,u=Math.floor(Date.now()/1e3);if(t>u){var f=t-u;l=Math.floor(f/3600),c=Math.floor((f-60*l*60)/60),d=Math.floor(f-60*l*60-60*c)}a.html(l+" : "+c+" : "+d)})},n=function(){setInterval(a,1e3)};e(document).ready(function(){n()})}(jQuery);